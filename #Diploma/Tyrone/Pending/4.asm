.MODEL SMALL
.STACK 64
.DATA

ARRAY LABEL BYTE
MAX DB 8
ACT DB ?
stringInput 8 DUP ("$")

sInputMI DB ?
ten DB 10
inputVar DW ?
outputVar DW ?
StringOutput DB 8 DUP ("$")

nline DB 0DH,0AH,"$"

.CODE

MAIN PROC
 MOV AX,@DATA
 MOV DS,AX

 CALL _PROMPTNUM
 CALL _DECTOHEX
 CALL _STRINGVAR
 CALL _FORMULAOP
; CALL _VARSTRING

EXIT:
 MOV AX,4C00H
 INT 21H

MAIN ENDP  

_PROMPTNUM PROC
 MOV AH,0AH
 LEA DX,stringInput
 INT 21H

 MOV AX,00H
 MOV AL,ARRAY[1]
 DEC AL
 MOV sInputMI,AL

 MOV AH,09H
 LEA DX,nline
 INT 21H

_PROMPTNUM ENDP

_DECTOHEX PROC
 MOV SI,0
DECTOHEX:
 CMP stringInput[SI],"$"
 JE DECTOHEXDONE
 SUB stringInput[SI],30H 
 INC SI
DECTOHEXDONE:
 RET
_DECTOHEX ENDP

_STRINGVAR PROC ; CONVERT INPUT STRING TO A SINGLE VARIABLE
 MOV BX,0
 MOV AX,0
 MOV AL,sInputMI
 MOV SI,AX
 
 
STRINGVAR:
 MOV AX,0
 MOV AL,stringInput[SI]
 MOV DI,SI
LOOPTEN:  
 MUL ten
 DEC DI
 CMP DI,0
 JA LOOPTEN 
 
 ADD BX,AX
 DEC SI
 CMP SI,0
 JA STRINGVAR
 MOV inputVar,BX
 RET
_STRINGVAR ENDP

_FORMULAOP PROC ; FORMULA OPERATIONS 
 ;EXAMPLE
 ;ADD inputVar,...

 MOV BX,inputVar ; TEMPORARY
 MOV outputVar,BX ; TEMPORARY
  
 ;MOV outputVar,... 
 RET
_FORMULAOP ENDP   

;_VARSTRING PROC ; CONVERT SINGLE VARIABLE TO OUTPUT STRING
; MOV SI,0
; MOV DI,0
;VARSTRING:
; MOV AX,0
; MOV DX,0
; MOV AX,outputVar
; DIV tens[DI]
; MOV outputVar,DX
; ADD stringOutput[SI],AL
;
; MOV AH,02H
; MOV DL,stringOutput[SI]
; INT 21H
;
; INC SI
; ADD DI,2
; 
; CMP SI,4
; JBE VARSTRING
; JA EXIT
; RET        
;_VARSTRING ENDP
    
END MAIN
